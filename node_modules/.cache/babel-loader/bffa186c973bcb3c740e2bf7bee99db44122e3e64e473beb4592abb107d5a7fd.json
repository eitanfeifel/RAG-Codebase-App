{"ast":null,"code":"import React,{useState}from\"react\";import\"./ChatWindow.css\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function ChatWindow(_ref){let{activeRepo}=_ref;const[messages,setMessages]=useState([]);const[input,setInput]=useState(\"\");const handleSend=async()=>{const userMessage={user:\"You\",text:input};setMessages([...messages,userMessage]);const response=await fetch(\"/chat\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:input,repo:activeRepo})});const data=await response.json();const botResponse={user:\"Bot\",text:data.answer||\"Error in response\"};setMessages(prev=>[...prev,botResponse]);setInput(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"messages\",children:messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`message ${msg.user.toLowerCase()}`,children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.user,\": \"]}),\" \",msg.text]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:`Ask about ${activeRepo}...`}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,disabled:!input.trim(),children:\"Send\"})]})]});}export default ChatWindow;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","ChatWindow","_ref","activeRepo","messages","setMessages","input","setInput","handleSend","userMessage","user","text","response","fetch","method","headers","body","JSON","stringify","query","repo","data","json","botResponse","answer","prev","className","children","map","msg","index","toLowerCase","type","value","onChange","e","target","placeholder","onClick","disabled","trim"],"sources":["C:/Users/eitan/OneDrive/Documents/HEADSTARTER/PROJ/4/codebase_rag/app/src/components/ChatWindow.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./ChatWindow.css\";\r\n\r\nfunction ChatWindow({ activeRepo }) {\r\n    const [messages, setMessages] = useState([]);\r\n    const [input, setInput] = useState(\"\");\r\n\r\n    const handleSend = async () => {\r\n        const userMessage = { user: \"You\", text: input };\r\n        setMessages([...messages, userMessage]);\r\n\r\n        const response = await fetch(\"/chat\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ query: input, repo: activeRepo }),\r\n        });\r\n\r\n        const data = await response.json();\r\n        const botResponse = { user: \"Bot\", text: data.answer || \"Error in response\" };\r\n        setMessages((prev) => [...prev, botResponse]);\r\n        setInput(\"\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"chat-window\">\r\n            <div className=\"messages\">\r\n                {messages.map((msg, index) => (\r\n                    <div key={index} className={`message ${msg.user.toLowerCase()}`}>\r\n                        <strong>{msg.user}: </strong> {msg.text}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div className=\"chat-input\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={input}\r\n                    onChange={(e) => setInput(e.target.value)}\r\n                    placeholder={`Ask about ${activeRepo}...`}\r\n                />\r\n                <button onClick={handleSend} disabled={!input.trim()}>\r\n                    Send\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatWindow;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE1B,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAiB,IAAhB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,KAAM,CAAAC,WAAW,CAAG,CAAEC,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAEL,KAAM,CAAC,CAChDD,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEK,WAAW,CAAC,CAAC,CAEvC,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,OAAO,CAAE,CAClCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEb,KAAK,CAAEc,IAAI,CAAEjB,UAAW,CAAC,CAC3D,CAAC,CAAC,CAEF,KAAM,CAAAkB,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,WAAW,CAAG,CAAEb,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAEU,IAAI,CAACG,MAAM,EAAI,mBAAoB,CAAC,CAC7EnB,WAAW,CAAEoB,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEF,WAAW,CAAC,CAAC,CAC7ChB,QAAQ,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACIT,KAAA,QAAK4B,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB3B,IAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAC,QAAA,CACpBvB,QAAQ,CAACwB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACrBhC,KAAA,QAAiB4B,SAAS,CAAE,WAAWG,GAAG,CAACnB,IAAI,CAACqB,WAAW,CAAC,CAAC,EAAG,CAAAJ,QAAA,eAC5D7B,KAAA,WAAA6B,QAAA,EAASE,GAAG,CAACnB,IAAI,CAAC,IAAE,EAAQ,CAAC,IAAC,CAACmB,GAAG,CAAClB,IAAI,GADjCmB,KAEL,CACR,CAAC,CACD,CAAC,cACNhC,KAAA,QAAK4B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB3B,IAAA,UACIgC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE3B,KAAM,CACb4B,QAAQ,CAAGC,CAAC,EAAK5B,QAAQ,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC1CI,WAAW,CAAE,aAAalC,UAAU,KAAM,CAC7C,CAAC,cACFH,IAAA,WAAQsC,OAAO,CAAE9B,UAAW,CAAC+B,QAAQ,CAAE,CAACjC,KAAK,CAACkC,IAAI,CAAC,CAAE,CAAAb,QAAA,CAAC,MAEtD,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAA1B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}