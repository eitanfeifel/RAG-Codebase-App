{"ast":null,"code":"import React,{useState}from\"react\";import ReactDOM from\"react-dom\";import Sidebar from\"./components/Sidebar\";import ChatWindow from\"./components/ChatWindow\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[repos,setRepos]=useState([]);const[selectedRepo,setSelectedRepo]=useState(null);const[isLoading,setIsLoading]=useState(false);// Loading state\nconst connectGithub=()=>{window.location.href=\"/oauth/github\";};const handleCloneRepos=async()=>{setIsLoading(true);// Start loading\ntry{const response=await fetch(\"/clone-repos\",{method:\"POST\"});if(response.ok){const reposData=await response.json();// Assume backend returns repos\nsetRepos(reposData.repos);setIsLoading(false);// Stop loading\n}else{console.error(\"Failed to clone repositories.\");setIsLoading(false);}}catch(error){console.error(\"Error cloning repositories:\",error);setIsLoading(false);}};const handleRepoSelect=repo=>{setSelectedRepo(repo);};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})]}):repos.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"welcome\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to RAG Codebase App\"}),/*#__PURE__*/_jsx(\"button\",{onClick:connectGithub,children:\"Connect with GitHub\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloneRepos,children:\"Clone Repositories\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Sidebar,{repos:repos,onSelectRepo:handleRepoSelect}),/*#__PURE__*/_jsx(ChatWindow,{repo:selectedRepo})]})});}export default App;","map":{"version":3,"names":["React","useState","ReactDOM","Sidebar","ChatWindow","jsx","_jsx","jsxs","_jsxs","App","repos","setRepos","selectedRepo","setSelectedRepo","isLoading","setIsLoading","connectGithub","window","location","href","handleCloneRepos","response","fetch","method","ok","reposData","json","console","error","handleRepoSelect","repo","className","children","length","onClick","onSelectRepo"],"sources":["C:/Users/eitan/OneDrive/Documents/HEADSTARTER/PROJ/4/codebase_rag/app/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Sidebar from \"./components/Sidebar\";\nimport ChatWindow from \"./components/ChatWindow\";\n\nfunction App() {\n    const [repos, setRepos] = useState([]);\n    const [selectedRepo, setSelectedRepo] = useState(null);\n    const [isLoading, setIsLoading] = useState(false); // Loading state\n\n    const connectGithub = () => {\n        window.location.href = \"/oauth/github\";\n    };\n\n    const handleCloneRepos = async () => {\n        setIsLoading(true); // Start loading\n        try {\n            const response = await fetch(\"/clone-repos\", { method: \"POST\" });\n            if (response.ok) {\n                const reposData = await response.json(); // Assume backend returns repos\n                setRepos(reposData.repos);\n                setIsLoading(false); // Stop loading\n            } else {\n                console.error(\"Failed to clone repositories.\");\n                setIsLoading(false);\n            }\n        } catch (error) {\n            console.error(\"Error cloning repositories:\", error);\n            setIsLoading(false);\n        }\n    };\n\n    const handleRepoSelect = (repo) => {\n        setSelectedRepo(repo);\n    };\n\n    return (\n        <div className=\"app\">\n            {isLoading ? (\n                <div className=\"loading\">\n                    <h2>Loading...</h2>\n                    <div className=\"spinner\"></div>\n                </div>\n            ) : repos.length === 0 ? (\n                <div className=\"welcome\">\n                    <h1>Welcome to RAG Codebase App</h1>\n                    <button onClick={connectGithub}>Connect with GitHub</button>\n                    <button onClick={handleCloneRepos}>Clone Repositories</button>\n                </div>\n            ) : (\n                <div className=\"app-container\">\n                    <Sidebar repos={repos} onSelectRepo={handleRepoSelect} />\n                    <ChatWindow repo={selectedRepo} />\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default App;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,QAAQ,KAAM,WAAW,CAChC,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACa,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAAE;AAEnD,KAAM,CAAAe,aAAa,CAAGA,CAAA,GAAM,CACxBC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,eAAe,CAC1C,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjCL,YAAY,CAAC,IAAI,CAAC,CAAE;AACpB,GAAI,CACA,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAc,CAAE,CAAEC,MAAM,CAAE,MAAO,CAAC,CAAC,CAChE,GAAIF,QAAQ,CAACG,EAAE,CAAE,CACb,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAE;AACzCf,QAAQ,CAACc,SAAS,CAACf,KAAK,CAAC,CACzBK,YAAY,CAAC,KAAK,CAAC,CAAE;AACzB,CAAC,IAAM,CACHY,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC,CAC9Cb,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CAAE,MAAOa,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnDb,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CAAC,CAED,KAAM,CAAAc,gBAAgB,CAAIC,IAAI,EAAK,CAC/BjB,eAAe,CAACiB,IAAI,CAAC,CACzB,CAAC,CAED,mBACIxB,IAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAC,QAAA,CACflB,SAAS,cACNN,KAAA,QAAKuB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACpB1B,IAAA,OAAA0B,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB1B,IAAA,QAAKyB,SAAS,CAAC,SAAS,CAAM,CAAC,EAC9B,CAAC,CACNrB,KAAK,CAACuB,MAAM,GAAK,CAAC,cAClBzB,KAAA,QAAKuB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACpB1B,IAAA,OAAA0B,QAAA,CAAI,6BAA2B,CAAI,CAAC,cACpC1B,IAAA,WAAQ4B,OAAO,CAAElB,aAAc,CAAAgB,QAAA,CAAC,qBAAmB,CAAQ,CAAC,cAC5D1B,IAAA,WAAQ4B,OAAO,CAAEd,gBAAiB,CAAAY,QAAA,CAAC,oBAAkB,CAAQ,CAAC,EAC7D,CAAC,cAENxB,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1B1B,IAAA,CAACH,OAAO,EAACO,KAAK,CAAEA,KAAM,CAACyB,YAAY,CAAEN,gBAAiB,CAAE,CAAC,cACzDvB,IAAA,CAACF,UAAU,EAAC0B,IAAI,CAAElB,YAAa,CAAE,CAAC,EACjC,CACR,CACA,CAAC,CAEd,CAEA,cAAe,CAAAH,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}